package Actividad_2_3_SincronizarHilos;

import java.util.concurrent.ThreadLocalRandom;

public class Ejercicio2_Recolectores implements Runnable{
	private static int numHilo = 0;
	private final Ejercicio2_Colecta colecta;
	Thread hilo;

	public Ejercicio2_Recolectores(Ejercicio2_Colecta c) {
		super ();
		numHilo++;
		this.colecta = c;
		
		hilo = new Thread(this, "Recolectore" + numHilo);
		hilo.start();
	}

	@Override
	public void run() {
		int espera_aleatoria=ThreadLocalRandom.current().nextInt(100,501);
		int dinero_aleatorio=ThreadLocalRandom.current().nextInt(5,51);
		
		this.colecta.incrementa(dinero_aleatorio);
		System.out.println("Hilo"+hilo.getName()+" ha retirado: "+dinero_aleatorio+", TOTAL="+this.colecta.getColecta());
	}
}
