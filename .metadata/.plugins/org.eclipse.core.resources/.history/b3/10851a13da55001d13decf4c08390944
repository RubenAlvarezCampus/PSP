package Actividad_2_3_SincronizarHilos;

import java.util.concurrent.ThreadLocalRandom;

public class Ejercicio2_Recolectores implements Runnable{
	private static int numHilo = 0;
	private final Ejercicio2_Colecta colecta;

	public Ejercicio2_Recolectores(Ejercicio2_Colecta c) {
		this.colecta = c;
		
		Thread hilo = new Thread(this, "Recolectores" + numHilo);
		hilo.start();
	}

	@Override
	public void run() {
		int espera_aleatoria=ThreadLocalRandom.current().nextInt(100,501);
		int aumento_aleatorio=ThreadLocalRandom.current().nextInt(5,51);
		
		try {
			Thread.sleep(espera_aleatoria);
		} catch (InterruptedException e) {
			e.printStackTrace();
		}
		
		this.colecta.incrementa(aumento_aleatorio);
		System.out.printf("Hilo %d recolector, ha sumado: %d\n", numHilo, aumento_aleatorio);
	}
}
